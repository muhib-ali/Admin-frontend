(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{5255:(e,s,a)=>{"use strict";a.d(s,{SQ:()=>n,_2:()=>c,mB:()=>u,rI:()=>i,ty:()=>o});var t=a(20912),r=a(34012),d=a(91091),l=a(87343);let i=d.bL,o=d.l9;d.YJ,d.ZL,d.Pb,d.z6,r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsx)(d.ZP,{ref:s,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a),...i,children:r})}).displayName=d.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(d.G5,{ref:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=d.G5.displayName;let n=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...i}=e;return(0,t.jsx)(d.ZL,{children:(0,t.jsx)(d.UC,{ref:s,sideOffset:r,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});n.displayName=d.UC.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(d.q7,{ref:s,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r})});c.displayName=d.q7.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(d.wv,{ref:s,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});u.displayName=d.wv.displayName},23429:(e,s,a)=>{"use strict";a.d(s,{J:()=>l,z:()=>i});var t=a(20912),r=a(34012);let d=r.createContext(void 0);function l(e){let{children:s}=e,[a,l]=r.useState(!1);return(0,t.jsx)(d.Provider,{value:{hasUnsavedChanges:a,setHasUnsavedChanges:l},children:s})}function i(){let e=r.useContext(d);if(void 0===e)throw Error("useUnsavedChanges must be used within a UnsavedChangesProvider");return e}},31707:(e,s,a)=>{Promise.resolve().then(a.bind(a,45685))},37753:(e,s,a)=>{"use strict";a.d(s,{T:()=>r});var t=a(74764);function r(e){let{hasPermission:s}=function(){var e,s;let{data:a,status:r}=(0,t.wV)(),d=null!=a?a:null;return{user:null!=(e=null==d?void 0:d.user)?e:null,permissions:null!=(s=null==d?void 0:d.permissions)?s:[],loading:"loading"===r,hasPermission:e=>!!(null==d?void 0:d.permissions)&&d.permissions.some(s=>{var a;return null==(a=s.permissions)?void 0:a.some(s=>s.is_allowed&&(s.route===e||e.startsWith(s.route)))}),getMenuPermissions:()=>{if(!(null==d?void 0:d.permissions))return[];let e=[];return d.permissions.forEach(s=>{var a;let t=(null!=(a=s.permissions)?a:[]).filter(e=>e.is_Show_in_menu&&e.is_allowed);t.length&&e.push({module_name:s.module_name,module_slug:s.module_slug,permissions:t})}),e}}}();return s(e)}},45082:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var t=a(20912),r=a(34012),d=a(87343);let l=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});l.displayName="Input"},45685:(e,s,a)=>{"use strict";a.d(s,{default:()=>V});var t=a(20912),r=a(34012),d=a(77274),l=a.n(d),i=a(15951),o=a(87343),n=a(43317),c=a(39532),u=a(92866),m=a(78998),h=a(85798),x=a(40614),p=a(42305),b=a(30148),f=a(82159),g=a(25979),v=a(76562),w=a(24491),j=a(63661),N=a(74764),y=a(37753);function A(e){let{route:s,children:a,fallback:d=null}=e,l=(0,y.T)(s),[i,o]=r.useState(!1);return(r.useEffect(()=>o(!0),[]),i)?(0,t.jsx)(t.Fragment,{children:l?a:d}):null}var k=a(65988);let C={"/dashboard/invoices":k.c.invoices.list,"/dashboard/quotations":k.c.quotations.list,"/dashboard/clients":k.c.clients.list,"/dashboard/products":k.c.products.list,"/dashboard/jobFiles":k.c.jobFiles.list,"/dashboard/tax":k.c.taxes.list,"/dashboard/modules":k.c.modules.list,"/dashboard/permissions":k.c.permissions.list,"/dashboard/roles":k.c.roles.list,"/dashboard/users":k.c.users.list};var B=a(23429);let P={BarChart2:n.A,FileText:c.A,Receipt:u.A,Users:m.A,Package:h.A,Tag:x.A,BadgePercent:p.A,Coins:b.A,Boxes:f.A,Box:g.A,ShieldCheck:v.A,Shield:w.A,LogOut:j.A},_=[{href:"/dashboard/dashboard",label:"Dashboard",icon:"BarChart2"},{href:"/dashboard/invoices",label:"Invoices",icon:"FileText"},{href:"/dashboard/quotations",label:"Quotations",icon:"Receipt"},{href:"/dashboard/clients",label:"Clients",icon:"Users"},{href:"/dashboard/products",label:"Products",icon:"Package"}],q=[{href:"/dashboard/jobFiles",label:"Job files",icon:"Tag"},{href:"/dashboard/tax",label:"Tax",icon:"BadgePercent"},{href:"/dashboard/modules",label:"Modules",icon:"Boxes"},{href:"/dashboard/permissions",label:"Permissions",icon:"ShieldCheck"},{href:"/dashboard/roles",label:"Roles",icon:"Shield"},{href:"/dashboard/users",label:"Users",icon:"Users"}];function F(e){var s,a,r,d;let{name:l,className:i}=e;if("BadgePercent"===l&&!P.BadgePercent){let e=null!=(s=P.Coins)?s:P.FileText;return(0,t.jsx)(e,{className:i})}if("Boxes"===l&&!P.Boxes){let e=null!=(r=null!=(a=P.Box)?a:P.Package)?r:P.FileText;return(0,t.jsx)(e,{className:i})}let o=null!=(d=P[l])?d:P.FileText;return(0,t.jsx)(o,{className:i})}function I(e){let{collapsed:s=!1}=e,a=(0,i.usePathname)(),{hasUnsavedChanges:r}=(0,B.z)(),{data:d}=(0,N.wV)(),n=async()=>{try{await (0,N.CI)({redirectTo:"/login"})}catch(e){console.error("Logout error:",e)}},c=(e,s)=>{r&&(e.preventDefault(),window.confirm("You have unsaved changes, do you really want to leave?")&&(window.location.href=s))};return(0,t.jsxs)("div",{className:(0,o.cn)("flex h-full min-h-0 flex-col max-w-full overflow-hidden",s?"w-20":"w-72"),children:[(0,t.jsx)("div",{className:(0,o.cn)("px-5 py-5",s&&"px-3"),children:(0,t.jsx)("div",{className:(0,o.cn)("flex items-center gap-2",s&&"justify-center"),children:(0,t.jsx)("div",{className:(0,o.cn)("text-2xl font-bold text-white",s&&"text-lg"),children:s?"AD":"Admin Dashboard"})})}),(0,t.jsx)("nav",{className:(0,o.cn)("px-2 pb-4 overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"),children:(0,t.jsxs)("ul",{className:(0,o.cn)("space-y-1 overflow-x-hidden",s?"w-full":"w-[103%]"),children:[(0,t.jsx)("li",{className:(0,o.cn)("text-xs rounded-2xl px-4 text-white/90 py-1",s&&"mx-2 text-center px-2"),children:s?"Nav":"Navigation"}),_.map(e=>{let{href:r,label:d,icon:i}=e,n=null==a?void 0:a.startsWith(r),u=C[r],m=(0,t.jsxs)(l(),{href:r,onClick:e=>c(e,r),className:(0,o.cn)("group flex items-center gap-3 rounded-l-2xl px-4 py-2.5 text-sm transition",n?"bg-[#ebf3f7] text-nav-txt":"hover:bg-white/10",s&&"justify-center"),children:[(0,t.jsx)(F,{name:i,className:"h-5 w-5 shrink-0 text-red-400"}),!s&&(0,t.jsx)("span",{className:"truncate",children:d})]});return u?(0,t.jsx)("li",{children:(0,t.jsx)(A,{route:u,fallback:null,children:m})},r):(0,t.jsx)("li",{children:m},r)}),q.map(e=>{let{href:r,label:d,icon:i}=e,n=null==a?void 0:a.startsWith(r),u=C[r],m=(0,t.jsxs)(l(),{href:r,onClick:e=>c(e,r),className:(0,o.cn)("group flex items-center gap-3 rounded-l-2xl px-4 py-2.5 text-sm transition",n?"bg-[#ebf3f7] text-nav-txt":"hover:bg-white/10",s&&"justify-center"),children:[(0,t.jsx)(F,{name:i,className:"h-5 w-5 shrink-0 text-red-400"}),!s&&(0,t.jsx)("span",{className:"truncate",children:d})]});return u?(0,t.jsx)("li",{children:(0,t.jsx)(A,{route:u,fallback:null,children:m})},r):(0,t.jsx)("li",{children:m},r)})]})}),(0,t.jsx)("div",{className:"lg:hidden px-2 py-2",children:(0,t.jsxs)("button",{onClick:n,className:"group flex items-center gap-3 rounded-l-2xl px-4 py-2.5 text-sm transition w-full hover:bg-white/10 text-white/90",children:[(0,t.jsx)(j.A,{className:"h-5 w-5 shrink-0 text-red-400"}),!s&&(0,t.jsx)("span",{className:"truncate",children:"Log out"})]})}),(0,t.jsx)("div",{className:(0,o.cn)("mt-auto px-5 py-4 text-[11px] opacity-80",s&&"text-center px-0"),children:s?"\xa9 2025":"\xa9 2025 All Rights Reserved"})]})}var R=a(45082),S=a(95370),z=a(60141),T=a(13741),U=a(33427),L=a(60362),D=a(20980),E=a(48183),O=a(5255);function M(e){let{onMenuClick:s,onToggleSidebar:a,collapsed:d,className:l}=e,[i,o]=(0,r.useState)(!1),{data:n}=(0,N.wV)(),c=null==n?void 0:n.user,u=async()=>{try{await (0,N.CI)({redirectTo:"/login"})}catch(e){console.error("Logout error:",e)}};return(0,t.jsxs)("div",{className:"sticky top-0 z-20 border-b bg-[#f6f7fb]/80 backdrop-blur dark:bg-neutral-950/80 ".concat(l||""),children:[(0,t.jsxs)("div",{className:"mx-auto flex max-w-7xl items-center gap-3 sm:gap-4 px-3 sm:px-4 md:px-6 py-3 md:py-4 min-w-0",children:[(0,t.jsx)("button",{onClick:s,className:"grid h-10 w-10 place-items-center rounded-full bg-white text-neutral-700 shadow lg:hidden","aria-label":"Open menu",children:(0,t.jsx)(z.A,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:a,className:"hidden lg:grid h-10 w-10 place-items-center rounded-xl border bg-white shadow dark:bg-neutral-900","aria-label":"Toggle sidebar",title:"Collapse / Expand sidebar",children:d?(0,t.jsx)(T.A,{className:"h-5 w-5"}):(0,t.jsx)(U.A,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"flex-1 min-w-0"}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-2 rounded-full border bg-white px-3 sm:px-4 py-2 shadow-sm dark:bg-neutral-900 max-w-[640px] w-full",children:[(0,t.jsx)(L.A,{className:"h-4 w-4 opacity-60 shrink-0"}),(0,t.jsx)(R.p,{className:"w-full border-0 p-0 shadow-none focus-visible:ring-0 dark:bg-transparent",placeholder:"Search something here..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,t.jsx)(S.$,{variant:"outline",size:"icon",className:"rounded-full md:hidden","aria-label":"Toggle search",onClick:()=>o(e=>!e),children:(0,t.jsx)(L.A,{className:"h-4 w-4"})}),(0,t.jsxs)(O.rI,{modal:!1,children:[(0,t.jsx)(O.ty,{asChild:!0,children:(0,t.jsx)("button",{className:"grid h-10 w-10 place-items-center rounded-full border bg-blue-600 text-white shadow","aria-label":"User menu",title:(null==c?void 0:c.email)||"User",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:((null==c?void 0:c.name)||(null==c?void 0:c.email)||"AD").slice(0,2).toUpperCase()})})}),(0,t.jsxs)(O.SQ,{align:"end",side:"bottom",sideOffset:8,className:"z-100 w-[min(92vw,240px)] rounded-xl p-0 overflow-hidden",avoidCollisions:!0,collisionPadding:8,children:[(0,t.jsxs)("div",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"font-semibold",children:(null==c?void 0:c.name)||"Admin User"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground truncate",children:(null==c?void 0:c.email)||"admin@example.com"})]}),(0,t.jsx)(O.mB,{}),(0,t.jsxs)(O._2,{className:"gap-2",children:[(0,t.jsx)(D.A,{className:"h-4 w-4"}),"Profile Settings"]}),(0,t.jsxs)(O._2,{className:"gap-2",children:[(0,t.jsx)(E.A,{className:"h-4 w-4"}),"Account Settings"]}),(0,t.jsx)(O.mB,{}),(0,t.jsxs)(O._2,{className:"gap-2 text-red-600 focus:text-red-600",onSelect:e=>{e.preventDefault(),u()},children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),"Log out"]})]})]})]})]}),i&&(0,t.jsx)("div",{className:"px-3 sm:px-4 md:px-6 pb-3 md:hidden",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border bg-white px-3 py-2 shadow-sm dark:bg-neutral-900",children:[(0,t.jsx)(L.A,{className:"h-4 w-4 opacity-60 shrink-0"}),(0,t.jsx)(R.p,{className:"w-full border-0 p-0 shadow-none focus-visible:ring-0 dark:bg-transparent",placeholder:"Search something here..."})]})})]})}var Q=a(69982);function V(e){let{children:s}=e,[a,d]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen overflow-x-hidden",children:[(0,t.jsx)("aside",{className:(0,o.cn)("fixed left-0 top-0 z-30 hidden h-screen rounded-r-4xl bg-blue-800 text-white transition-[width] duration-300 lg:block",l?"w-20":"w-72"),children:(0,t.jsx)(I,{collapsed:l})}),(0,t.jsxs)("main",{className:(0,o.cn)("relative min-h-screen min-w-0 flex flex-col",l?"lg:pl-20":"lg:pl-72"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 h-14 border-b lg:hidden",children:[(0,t.jsx)("button",{"aria-label":"Open sidebar",onClick:()=>d(!0),className:"inline-flex h-9 w-9 items-center justify-center rounded-md border",children:(0,t.jsx)(z.A,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"font-semibold truncate",children:"Dashboard"})]}),(0,t.jsx)(M,{onMenuClick:()=>d(!0),onToggleSidebar:()=>i(e=>!e),collapsed:l,className:"hidden lg:block"}),(0,t.jsx)("div",{className:"relative min-w-0 w-full max-w-7xl mx-auto p-4 sm:p-6 pt-6 pb-10",children:s})]}),a&&(0,t.jsxs)("div",{className:"lg:hidden fixed inset-0 z-50",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>d(!1)}),(0,t.jsxs)("div",{className:"absolute left-0 top-0 h-full w-72 max-w-[85%] bg-[#064F99] text-white shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-14 px-4 border-b",children:[(0,t.jsx)("div",{className:"font-semibold",children:"Menu"}),(0,t.jsx)("button",{"aria-label":"Close sidebar",onClick:()=>d(!1),className:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-white/20",children:(0,t.jsx)(Q.A,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:"h-[calc(100%-56px)] overflow-y-auto",children:(0,t.jsx)(I,{})})]})]})]})}},65988:(e,s,a)=>{"use strict";a.d(s,{c:()=>t,q:()=>r});let t={modules:{list:"modules/getAll",create:"modules/create",read:"modules/getById",update:"modules/update",delete:"modules/delete"},permissions:{list:"permissions/getAll",create:"permissions/create",read:"permissions/getById",update:"permissions/update",delete:"permissions/delete"},roles:{list:"roles/getAll",create:"roles/create",read:"roles/getById",update:"roles/update",delete:"roles/delete",extras:{getRolePerms:"roles/getAllPermissionsByRoleId",updateRolePerms:"roles/updatePermissionsAccessByRoleId"}},users:{list:"users/getAll",create:"users/create",read:"users/getById",update:"users/update",delete:"users/delete"},taxes:{list:"taxes/getAll",create:"taxes/create",read:"taxes/getById",update:"taxes/update",delete:"taxes/delete"},jobFiles:{list:"job_files/getAll",create:"job_files/create",read:"job_files/getById",update:"job_files/update",delete:"job_files/delete"},products:{list:"products/getAll",create:"products/create",read:"products/getById",update:"products/update",delete:"products/delete"},clients:{list:"clients/getAll",create:"clients/create",read:"clients/getById",update:"clients/update",delete:"clients/delete"},quotations:{list:"quotations/getAll",create:"quotations/create",read:"quotations/getById",update:"quotations/update",delete:"quotations/delete"},invoices:{list:"invoices/getAll",create:"invoices/create",read:"invoices/getById",update:"invoices/update",delete:"invoices/delete"}},r={"/dashboard/modules":t.modules.list,"/dashboard/modules/create":t.modules.create,"/dashboard/modules/[id]":t.modules.read,"/dashboard/modules/[id]/edit":t.modules.update,"/dashboard/permissions":t.permissions.list,"/dashboard/permissions/create":t.permissions.create,"/dashboard/permissions/[id]":t.permissions.read,"/dashboard/permissions/[id]/edit":t.permissions.update,"/dashboard/roles":t.roles.list,"/dashboard/roles/create":t.roles.create,"/dashboard/roles/[id]":t.roles.read,"/dashboard/roles/[id]/edit":t.roles.update,"/dashboard/roles/[id]/permissions":t.roles.extras.getRolePerms,"/dashboard/roles/[id]/permissions/edit":t.roles.extras.updateRolePerms,"/dashboard/users":t.users.list,"/dashboard/users/create":t.users.create,"/dashboard/users/[id]":t.users.read,"/dashboard/users/[id]/edit":t.users.update,"/dashboard/tax":t.taxes.list,"/dashboard/tax/create":t.taxes.create,"/dashboard/tax/[id]":t.taxes.read,"/dashboard/tax/[id]/edit":t.taxes.update,"/dashboard/jobFiles":t.jobFiles.list,"/dashboard/jobFiles/create":t.jobFiles.create,"/dashboard/jobFiles/[id]":t.jobFiles.read,"/dashboard/jobFiles/[id]/edit":t.jobFiles.update,"/dashboard/products":t.products.list,"/dashboard/products/create":t.products.create,"/dashboard/products/[id]":t.products.read,"/dashboard/products/[id]/edit":t.products.update,"/dashboard/clients":t.clients.list,"/dashboard/clients/create":t.clients.create,"/dashboard/clients/[id]":t.clients.read,"/dashboard/clients/[id]/edit":t.clients.update,"/dashboard/quotations":t.quotations.list,"/dashboard/quotations/new":t.quotations.create,"/dashboard/quotations/[id]":t.quotations.read,"/dashboard/quotations/[id]/edit":t.quotations.update,"/dashboard/invoices":t.invoices.list,"/dashboard/invoices/new":t.invoices.create,"/dashboard/invoices/[id]":t.invoices.read,"/dashboard/invoices/[id]/edit":t.invoices.update}},87343:(e,s,a)=>{"use strict";a.d(s,{cn:()=>d});var t=a(52886),r=a(12820);function d(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},95370:(e,s,a)=>{"use strict";a.d(s,{$:()=>o});var t=a(20912),r=a(34012),d=a(34248),l=a(87343);let i=(0,d.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:a,variant:r,size:d,...o}=e;return(0,t.jsx)("button",{className:(0,l.cn)(i({variant:r,size:d,className:a})),ref:s,...o})});o.displayName="Button"}},e=>{e.O(0,[809,57,146,808,4,358],()=>e(e.s=31707)),_N_E=e.O()}]);