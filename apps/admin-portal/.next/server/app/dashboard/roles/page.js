(()=>{var a={};a.id=459,a.ids=[459],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7897:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(91213),e=c(34906),f=c(51402),g=c(93323),h=c(4441),i=c(83769),j=c(31488),k=c(94753),l=c(60145),m=c(47091),n=c(77639),o=c(66224),p=c(79782),q=c(88971),r=c(261),s=c(26034),t=c(78239),u=c(26713),v=c(49315),w=c(29280),x=c(57524),y=c(93181),z=c(12683),A=c(90361),B=c(86439),C=c(37063),D=c.n(C),E=c(38547),F=c(32802),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["dashboard",{children:["roles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,36550)),"D:\\parent1\\final-upgraded-frontend\\apps\\admin-portal\\src\\app\\dashboard\\roles\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,97003)),"D:\\parent1\\final-upgraded-frontend\\apps\\admin-portal\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,43052)),"D:\\parent1\\final-upgraded-frontend\\apps\\admin-portal\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(c.bind(c,26616)),"D:\\parent1\\final-upgraded-frontend\\apps\\admin-portal\\src\\app\\loading.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,37063,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,26855,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,63970,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,96157,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["D:\\parent1\\final-upgraded-frontend\\apps\\admin-portal\\src\\app\\dashboard\\roles\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/dashboard/roles/page",pathname:"/dashboard/roles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/dashboard/roles/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:a=>{"use strict";a.exports=require("os")},23689:(a,b,c)=>{"use strict";c.d(b,{Dc:()=>h,EO:()=>k,GL:()=>l,OH:()=>g,S0:()=>j,je:()=>m,rd:()=>i});var d=c(14611);let e=a=>new Promise(b=>setTimeout(b,a));async function f(a,{retries:b=4,baseDelayMs:c=400,maxDelayMs:d=8e3}={}){let g=0;for(;;)try{return await a()}catch(j){let a=j?.response?.status,f=function(a){if(!a)return null;let b=Number(a);return Number.isFinite(b)?Math.max(0,b):null}(j?.response?.headers?.["retry-after"]);if(!(429===a&&g<b))throw j;let h=null!=f?1e3*f:Math.min(d,Math.round(c*Math.pow(2,g))),i=h*(.4*Math.random()-.2);h=Math.max(200,Math.round(h+i)),await e(h),g+=1;continue}}async function g(a=1,b=10,c,e){let h=function(a,b){let c={};for(let d of b){let b=a[d];null!=b&&(c[d]=b)}return c}({page:a,limit:b,search:c?.trim()||void 0},["page","limit","search"]),{data:i}=await f(()=>d.A.get("/roles/getAll",{params:h,signal:e?.signal}));return{rows:i?.data?.roles??[],pagination:i?.data?.pagination}}async function h(a){let{data:b}=await f(()=>d.A.get(`/roles/getById/${a}`));return b.data}async function i(a){let{data:b}=await f(()=>d.A.post("/roles/create",a));return b.data}async function j(a){let{data:b}=await f(()=>d.A.put("/roles/update",a));return b.data}async function k(a){let{data:b}=await f(()=>d.A.delete("/roles/delete",{data:{id:a}}));return b.data}async function l(a){let{data:b}=await f(()=>d.A.get(`/roles/getAllPermissionsByRoleId/${a}`));return b.data.modulesWithPermisssions}async function m(a){let b=a.next.map(a=>({moduleSlug:a.module_slug,permissions:a.permissions.map(a=>({id:a.id,permissionSlug:a.permission_slug,isAllowed:!!a.is_allowed}))})),c={roleId:a.roleId,modulesWithPermissions:b},{data:e}=await f(()=>d.A.put("/roles/updatePermissionsAccessByRoleId",c));return e}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},36550:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(19979).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\parent1\\\\final-upgraded-frontend\\\\apps\\\\admin-portal\\\\src\\\\app\\\\dashboard\\\\roles\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\parent1\\final-upgraded-frontend\\apps\\admin-portal\\src\\app\\dashboard\\roles\\page.tsx","default")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},43094:(a,b,c)=>{"use strict";c.d(b,{w:()=>k});var d=c(46249),e=c(86828),f=c(67629),g="horizontal",h=["horizontal","vertical"],i=e.forwardRef((a,b)=>{var c;let{decorative:e,orientation:i=g,...j}=a,k=(c=i,h.includes(c))?i:g;return(0,d.jsx)(f.sG.div,{"data-orientation":k,...e?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:b})});i.displayName="Separator";var j=c(52531);function k({className:a,orientation:b="horizontal",decorative:c=!0,...e}){return(0,d.jsx)(i,{"data-slot":"separator",decorative:c,orientation:b,className:(0,j.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}},43294:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(76808).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},53805:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(76808).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},58101:(a,b,c)=>{Promise.resolve().then(c.bind(c,85539))},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67829:(a,b,c)=>{Promise.resolve().then(c.bind(c,36550))},73456:(a,b,c)=>{"use strict";c.d(b,{d:()=>x});var d=c(46249),e=c(86828),f=c(60981),g=c(51666),h=c(64259),i=c(54813),j=c(65085),k=c(89069),l=c(94266),m="Switch",[n,o]=(0,h.A)(m),[p,q]=n(m),r=e.forwardRef((a,b)=>{let{__scopeSwitch:c,name:h,checked:j,defaultChecked:k,required:n,disabled:o,value:q="on",onCheckedChange:r,form:s,...t}=a,[w,x]=e.useState(null),y=(0,g.s)(b,a=>x(a)),z=e.useRef(!1),A=!w||s||!!w.closest("form"),[B,C]=(0,i.i)({prop:j,defaultProp:k??!1,onChange:r,caller:m});return(0,d.jsxs)(p,{scope:c,checked:B,disabled:o,children:[(0,d.jsx)(l.sG.button,{type:"button",role:"switch","aria-checked":B,"aria-required":n,"data-state":v(B),"data-disabled":o?"":void 0,disabled:o,value:q,...t,ref:y,onClick:(0,f.mK)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,d.jsx)(u,{control:w,bubbles:!z.current,name:h,value:q,checked:B,required:n,disabled:o,form:s,style:{transform:"translateX(-100%)"}})]})});r.displayName=m;var s="SwitchThumb",t=e.forwardRef((a,b)=>{let{__scopeSwitch:c,...e}=a,f=q(s,c);return(0,d.jsx)(l.sG.span,{"data-state":v(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b})});t.displayName=s;var u=e.forwardRef(({__scopeSwitch:a,control:b,checked:c,bubbles:f=!0,...h},i)=>{let l=e.useRef(null),m=(0,g.s)(l,i),n=(0,j.Z)(c),o=(0,k.X)(b);return e.useEffect(()=>{let a=l.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==c&&b){let d=new Event("click",{bubbles:f});b.call(a,c),a.dispatchEvent(d)}},[n,c,f]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c,...h,tabIndex:-1,ref:m,style:{...h.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function v(a){return a?"checked":"unchecked"}u.displayName="SwitchBubbleInput";var w=c(52531);function x({className:a,...b}){return(0,d.jsx)(r,{"data-slot":"switch",className:(0,w.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(t,{"data-slot":"switch-thumb",className:(0,w.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},73496:a=>{"use strict";a.exports=require("http2")},74075:a=>{"use strict";a.exports=require("zlib")},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},82239:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(76808).A)("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},83997:a=>{"use strict";a.exports=require("tty")},85539:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>ar});var d=c(46249),e=c(86828);c(60269),Array(12).fill(0);let f=1;class g{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{let b=this.subscribers.indexOf(a);this.subscribers.splice(b,1)}),this.publish=a=>{this.subscribers.forEach(b=>b(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var b;let{message:c,...d}=a,e="number"==typeof(null==a?void 0:a.id)||(null==(b=a.id)?void 0:b.length)>0?a.id:f++,g=this.toasts.find(a=>a.id===e),h=void 0===a.dismissible||a.dismissible;return this.dismissedToasts.has(e)&&this.dismissedToasts.delete(e),g?this.toasts=this.toasts.map(b=>b.id===e?(this.publish({...b,...a,id:e,title:c}),{...b,...a,id:e,dismissible:h,title:c}):b):this.addToast({title:c,...d,dismissible:h,id:e}),e},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(b=>b({id:a,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(b=>b({id:a.id,dismiss:!0}))}),a),this.message=(a,b)=>this.create({...b,message:a}),this.error=(a,b)=>this.create({...b,message:a,type:"error"}),this.success=(a,b)=>this.create({...b,type:"success",message:a}),this.info=(a,b)=>this.create({...b,type:"info",message:a}),this.warning=(a,b)=>this.create({...b,type:"warning",message:a}),this.loading=(a,b)=>this.create({...b,type:"loading",message:a}),this.promise=(a,b)=>{let c,d;if(!b)return;void 0!==b.loading&&(d=this.create({...b,promise:a,type:"loading",message:b.loading,description:"function"!=typeof b.description?b.description:void 0}));let f=Promise.resolve(a instanceof Function?a():a),g=void 0!==d,h=f.then(async a=>{if(c=["resolve",a],e.isValidElement(a))g=!1,this.create({id:d,type:"default",message:a});else if(i(a)&&!a.ok){g=!1;let c="function"==typeof b.error?await b.error(`HTTP error! status: ${a.status}`):b.error,f="function"==typeof b.description?await b.description(`HTTP error! status: ${a.status}`):b.description,h="object"!=typeof c||e.isValidElement(c)?{message:c}:c;this.create({id:d,type:"error",description:f,...h})}else if(a instanceof Error){g=!1;let c="function"==typeof b.error?await b.error(a):b.error,f="function"==typeof b.description?await b.description(a):b.description,h="object"!=typeof c||e.isValidElement(c)?{message:c}:c;this.create({id:d,type:"error",description:f,...h})}else if(void 0!==b.success){g=!1;let c="function"==typeof b.success?await b.success(a):b.success,f="function"==typeof b.description?await b.description(a):b.description,h="object"!=typeof c||e.isValidElement(c)?{message:c}:c;this.create({id:d,type:"success",description:f,...h})}}).catch(async a=>{if(c=["reject",a],void 0!==b.error){g=!1;let c="function"==typeof b.error?await b.error(a):b.error,f="function"==typeof b.description?await b.description(a):b.description,h="object"!=typeof c||e.isValidElement(c)?{message:c}:c;this.create({id:d,type:"error",description:f,...h})}}).finally(()=>{g&&(this.dismiss(d),d=void 0),null==b.finally||b.finally.call(b)}),j=()=>new Promise((a,b)=>h.then(()=>"reject"===c[0]?b(c[1]):a(c[1])).catch(b));return"string"!=typeof d&&"number"!=typeof d?{unwrap:j}:Object.assign(d,{unwrap:j})},this.custom=(a,b)=>{let c=(null==b?void 0:b.id)||f++;return this.create({jsx:a(c),id:c,...b}),c},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}let h=new g,i=a=>a&&"object"==typeof a&&"ok"in a&&"boolean"==typeof a.ok&&"status"in a&&"number"==typeof a.status,j=Object.assign((a,b)=>{let c=(null==b?void 0:b.id)||f++;return h.addToast({title:a,...b,id:c}),c},{success:h.success,info:h.info,warning:h.warning,error:h.error,custom:h.custom,message:h.message,promise:h.promise,dismiss:h.dismiss,loading:h.loading},{getHistory:()=>h.toasts,getToasts:()=>h.getActiveToasts()});!function(a){if(!a||"undefined"==typeof document)return;let b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",b.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var k=c(36606),l=c(20604),m=c(50216),n=c(23552),o=c(53805),p=c(25746),q=c(43294),r=c(82239),s=c(7102),t=c(88526),u=c(95883),v=c(61669),w=c(38799),x=c(41665),y=c(45777),z=c(7800),A=c(38686),B=c(72970),C=c(48639),D=c(73456),E=c(85831),F=c(52763),G=c(3669),H=c(60981),I=c(64259),J=c(82750),K=c(63815),L=c(94266),M=c(29837),N=c(54813),O=c(91153),P="Tabs",[Q,R]=(0,I.A)(P,[J.RG]),S=(0,J.RG)(),[T,U]=Q(P),V=e.forwardRef((a,b)=>{let{__scopeTabs:c,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=(0,M.jH)(i),[m,n]=(0,N.i)({prop:e,onChange:f,defaultProp:g??"",caller:P});return(0,d.jsx)(T,{scope:c,baseId:(0,O.B)(),value:m,onValueChange:n,orientation:h,dir:l,activationMode:j,children:(0,d.jsx)(L.sG.div,{dir:l,"data-orientation":h,...k,ref:b})})});V.displayName=P;var W="TabsList",X=e.forwardRef((a,b)=>{let{__scopeTabs:c,loop:e=!0,...f}=a,g=U(W,c),h=S(c);return(0,d.jsx)(J.bL,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,d.jsx)(L.sG.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:b})})});X.displayName=W;var Y="TabsTrigger",Z=e.forwardRef((a,b)=>{let{__scopeTabs:c,value:e,disabled:f=!1,...g}=a,h=U(Y,c),i=S(c),j=aa(h.baseId,e),k=ab(h.baseId,e),l=e===h.value;return(0,d.jsx)(J.q7,{asChild:!0,...i,focusable:!f,active:l,children:(0,d.jsx)(L.sG.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":k,"data-state":l?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:j,...g,ref:b,onMouseDown:(0,H.mK)(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(e)}),onKeyDown:(0,H.mK)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(e)}),onFocus:(0,H.mK)(a.onFocus,()=>{let a="manual"!==h.activationMode;l||f||!a||h.onValueChange(e)})})})});Z.displayName=Y;var $="TabsContent",_=e.forwardRef((a,b)=>{let{__scopeTabs:c,value:f,forceMount:g,children:h,...i}=a,j=U($,c),k=aa(j.baseId,f),l=ab(j.baseId,f),m=f===j.value,n=e.useRef(m);return e.useEffect(()=>{let a=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,d.jsx)(K.C,{present:g||m,children:({present:c})=>(0,d.jsx)(L.sG.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!c,id:l,tabIndex:0,...i,ref:b,style:{...a.style,animationDuration:n.current?"0s":void 0},children:c&&h})})});function aa(a,b){return`${a}-trigger-${b}`}function ab(a,b){return`${a}-content-${b}`}_.displayName=$;var ac=c(52531);function ad({className:a,...b}){return(0,d.jsx)(V,{"data-slot":"tabs",className:(0,ac.cn)("flex flex-col gap-2",a),...b})}function ae({className:a,...b}){return(0,d.jsx)(X,{"data-slot":"tabs-list",className:(0,ac.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...b})}function af({className:a,...b}){return(0,d.jsx)(Z,{"data-slot":"tabs-trigger",className:(0,ac.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...b})}function ag({className:a,...b}){return(0,d.jsx)(_,{"data-slot":"tabs-content",className:(0,ac.cn)("flex-1 outline-none",a),...b})}var ah=c(59252),ai=c(10302),aj=c(23689),ak=c(63056),al=c(35588),am=c(43094);function an({mode:a,open:b,onOpenChange:c,initialData:f,roleId:g,roleTitle:h,onSubmit:i,onPermissionsSaved:k}){let[l,o]=e.useState(f?.name??""),[p,q]=e.useState(f?.description??""),[r,s]=e.useState({user:!0,tickets:!1,reports:!1,invoices:!1}),[t,v]=e.useState(f?.grants??{}),[w,x]=e.useState(!1),[y,A]=e.useState(!1),[E,F]=e.useState([]),[G,H]=e.useState({});e.useEffect(()=>{b&&(o(f?.name??""),q(f?.description??""),v(f?.grants??{}))},[b,f]),e.useEffect(()=>{b&&"permissions"===a&&g&&(async()=>{try{x(!0);let a=await (0,aj.GL)(g);F(a);let b={};a.forEach(a=>{b[a.module_slug]=a.permissions.some(a=>a.is_allowed)}),H(b)}catch(a){console.error(a),j.error(a?.response?.data?.message||"Failed to load permissions")}finally{x(!1)}})()},[b,a,g]),Object.values(t).reduce((a,b)=>a+(b?.length??0),0);let I=E.reduce((a,b)=>a+b.permissions.filter(a=>a.is_allowed).length,0);function J(b){"permissions"===a?H(a=>({...a,[b]:!a[b]})):s(a=>({...a,[b]:!a[b]}))}async function K(){if(g)try{A(!0),await (0,aj.je)({roleId:g,current:[],next:E}),j.success("Permissions updated");let a=await (0,aj.GL)(g);F(a),k?.(a),c(!1)}catch(a){console.error(a),j.error(a?.response?.data?.message||"Failed to update permissions")}finally{A(!1)}}return"permissions"===a?(0,d.jsx)(ak.lG,{open:b,onOpenChange:c,children:(0,d.jsxs)(ak.Cf,{className:"p-0 w-[95vw] max-w-none sm:w-[720px] sm:max-w-[720px] h-[80vh] max-h-[80vh] grid grid-rows-[auto,1fr,auto]",children:[(0,d.jsx)(ak.c7,{className:"px-6 pt-6 pb-4 border-b sticky top-0 bg-background z-10",children:(0,d.jsxs)(ak.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(u.A,{className:"h-5 w-5"}),"Permissions — ",h]})}),(0,d.jsx)("div",{className:"px-6 py-4 overflow-y-auto",children:w?(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading…"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Toggle which actions this role can access."}),(0,d.jsxs)(C.E,{variant:"secondary",children:[I," allowed"]})]}),(0,d.jsx)("div",{className:"space-y-3",children:E.map(a=>{let b=G[a.module_slug],c=a.permissions.filter(a=>a.is_allowed).length;return(0,d.jsxs)("div",{className:"rounded-xl border bg-card p-3",children:[(0,d.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>J(a.module_slug),onKeyDown:b=>("Enter"===b.key||" "===b.key)&&J(a.module_slug),className:"flex cursor-pointer items-center justify-between rounded-lg p-2 hover:bg-muted/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[b?(0,d.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}):(0,d.jsx)(n.A,{className:"h-5 w-5 text-muted-foreground"}),(0,d.jsx)("div",{className:"font-medium capitalize",children:a.module_slug})]}),(0,d.jsxs)(C.E,{variant:c?"default":"outline",children:[c," selected"]})]}),b&&(0,d.jsx)("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:a.permissions.map(b=>(0,d.jsxs)("label",{className:"flex items-center justify-between rounded-lg border p-3 hover:bg-muted/40",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:b.permission_slug}),(0,d.jsxs)("div",{className:"mt-1 text-xs text-muted-foreground",children:["id: ",b.id]})]}),(0,d.jsx)(D.d,{checked:b.is_allowed,onCheckedChange:c=>{var d,e;return d=a.module_slug,e=b.id,void F(a=>a.map(a=>a.module_slug!==d?a:{...a,permissions:a.permissions.map(a=>a.id===e?{...a,is_allowed:c}:a)}))}})]},b.id))})]},a.module_slug)})})]})}),(0,d.jsxs)("div",{className:"px-6 py-4 border-t flex justify-end gap-2 sticky bg-background",children:[(0,d.jsx)(z.$,{variant:"outline",onClick:()=>c(!1),disabled:y,children:"Cancel"}),(0,d.jsx)(z.$,{onClick:K,disabled:y,children:y?"Saving…":"Save"})]})]})}):(0,d.jsx)(ak.lG,{open:b,onOpenChange:c,children:(0,d.jsxs)(ak.Cf,{className:"sm:max-w-3xl p-0",children:[(0,d.jsx)(ak.c7,{className:"px-6 pt-6 pb-3",children:(0,d.jsxs)(ak.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(u.A,{className:"h-5 w-5"}),"create"===a?"Create New Role":"Edit Role"]})}),(0,d.jsxs)("form",{onSubmit:function(a){a.preventDefault();let b={id:f?.id,name:l.trim(),description:p.trim(),grants:t};i?.(b),c(!1)},className:"flex max-h-[90vh] flex-col",children:[(0,d.jsxs)("div",{className:"px-6 pb-6 overflow-y-auto max-h-[calc(90vh-160px)]",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(al.J,{htmlFor:"role-name",children:"Role Name *"}),(0,d.jsx)(B.p,{id:"role-name",placeholder:"Enter role name",value:l,onChange:a=>o(a.target.value),required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(al.J,{htmlFor:"role-desc",children:"Description *"}),(0,d.jsx)(B.p,{id:"role-desc",placeholder:"Brief description of the role",value:p,onChange:a=>q(a.target.value),required:!0})]})]}),(0,d.jsx)(am.w,{className:"my-4"})]}),(0,d.jsxs)("div",{className:"sticky flex justify-end gap-3 border-t bg-background px-6 py-4",children:[(0,d.jsx)(z.$,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),(0,d.jsx)(z.$,{type:"submit",children:"create"===a?"Create":"Update"})]})]})]})})}var ao=c(18240),ap=c(15096);function aq({roleId:a,roleTitle:b,canViewRolePerms:c,canUpdateRolePerms:f,onSaved:g}){let[h,i]=e.useState([]),[o,p]=e.useState(!0),[q,r]=e.useState(!1),[s,t]=e.useState({}),[u,v]=e.useState("");e.useEffect(()=>{!async function(){if(a){p(!0);try{let b=await (0,aj.GL)(a);i(b);let c={};b.forEach(a=>{c[a.module_slug]=!1}),t(c)}catch(a){console.error("Error fetching permissions:",a),j.error("Failed to load permissions")}finally{p(!1)}}}()},[a]);let w=h.reduce((a,b)=>a+b.permissions.filter(a=>a.is_allowed).length,0),x=e.useMemo(()=>u.trim()?h.filter(a=>a.module_slug.toLowerCase().includes(u.toLowerCase())):h,[h,u]);function y(a){t(b=>({...b,[a]:!b[a]}))}async function A(){if(f){r(!0);try{await (0,aj.je)({roleId:a,current:[],next:h}),j.success("Permissions updated");let b=await (0,aj.GL)(a);i(b),g(b)}catch(a){console.error(a),j.error("Failed to update permissions")}finally{r(!1)}}}return o?(0,d.jsx)("div",{className:"py-4 text-sm text-muted-foreground",children:"Loading permissions..."}):c||f?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Toggle which actions this role can access."}),(0,d.jsxs)(C.E,{variant:"secondary",children:[w," allowed"]})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(k.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,d.jsx)(B.p,{type:"search",placeholder:"Search modules...",className:"w-full pl-8 pr-10",value:u,onChange:a=>v(a.target.value)}),u&&(0,d.jsxs)("button",{type:"button",onClick:function(){v("")},className:"absolute right-2.5 top-2.5 text-muted-foreground hover:text-foreground",children:[(0,d.jsx)(l.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Clear search"})]})]}),(0,d.jsx)("div",{className:"space-y-3",children:0===x.length?(0,d.jsxs)("div",{className:"py-4 text-sm text-muted-foreground text-center",children:['No modules found matching "',u,'"']}):x.map(a=>{let b=!!s[a.module_slug],c=a.permissions.filter(a=>a.is_allowed).length;return(0,d.jsxs)("div",{className:"rounded-xl border bg-card p-3",children:[(0,d.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>y(a.module_slug),onKeyDown:b=>("Enter"===b.key||" "===b.key)&&y(a.module_slug),className:"flex cursor-pointer items-center justify-between rounded-lg p-1 hover:bg-muted/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[b?(0,d.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"}):(0,d.jsx)(n.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("div",{className:"font-medium capitalize text-sm",children:a.module_slug})]}),(0,d.jsxs)(C.E,{variant:c?"default":"outline",className:"text-xs",children:[c," selected"]})]}),b&&(0,d.jsx)("div",{className:"mt-2 grid gap-1 md:grid-cols-2",children:a.permissions.map(b=>(0,d.jsxs)("label",{className:"flex items-center justify-between rounded-lg border p-1.5 hover:bg-muted/40 text-sm",children:[(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"font-medium text-sm",children:b.permission_slug})}),(0,d.jsx)(D.d,{checked:b.is_allowed,onCheckedChange:c=>{var d,e;return d=a.module_slug,e=b.id,void(f&&i(a=>a.map(a=>a.module_slug!==d?a:{...a,permissions:a.permissions.map(a=>a.id===e?{...a,is_allowed:c}:a)})))},disabled:!f})]},b.id))})]},a.module_slug)})}),f&&(0,d.jsx)("div",{className:"flex justify-end gap-2",children:(0,d.jsx)(z.$,{onClick:A,disabled:q,children:q?"Saving…":"Save"})})]}):(0,d.jsx)("div",{className:"py-4 text-sm text-muted-foreground",children:"You don't have permission to view or update role permissions."})}function ar(){let[a,b]=e.useState(!1);e.useEffect(()=>b(!0),[]);let[c,f]=e.useState([]),[g,h]=e.useState(!0),[i,l]=e.useState(""),[m,D]=e.useState(1),[H,I]=e.useState(null),[J,K]=e.useState(!1),[L,M]=e.useState("create"),[N,O]=e.useState(null),[P,Q]=e.useState(null),[R,S]=e.useState({}),T=(0,ap.T)(ao.c.roles.list),U=(0,ap.T)(ao.c.roles.create);(0,ap.T)(ao.c.roles.read);let V=(0,ap.T)(ao.c.roles.update),W=(0,ap.T)(ao.c.roles.delete),X=(0,ap.T)(ao.c.roles.extras.getRolePerms),Y=(0,ap.T)(ao.c.roles.extras.updateRolePerms),[Z,$]=e.useState("");e.useEffect(()=>{let a=setTimeout(()=>$(i.trim()),300);return()=>clearTimeout(a)},[i]),e.useEffect(()=>{D(1)},[Z]),e.useEffect(()=>{if(!a)return;let b=new AbortController;return(async()=>{try{if(h(!0),!T){f([]),S({}),I(null);return}let{rows:a,pagination:c}=await (0,aj.OH)(m,5,Z||void 0,{signal:b.signal});f(a),I(c??null)}catch(a){if(a?.code==="ERR_CANCELED"||a?.message==="canceled")return;console.error(a),j.error(a?.response?.data?.message||"Failed to load roles")}finally{h(!1)}})(),()=>b.abort()},[a,T,m,5,Z]),e.useEffect(()=>{a&&T&&X&&(async()=>{try{let a=c.map(async a=>{try{let b=(await (0,aj.GL)(a.id)).reduce((a,b)=>a+b.permissions.filter(a=>a.is_allowed).length,0);return{roleId:a.id,count:b}}catch(b){if(b?.response?.status===403)return{roleId:a.id,count:0};return console.error(`Failed to load permissions for role ${a.id}:`,b),{roleId:a.id,count:0}}}),b=await Promise.all(a),d={};b.forEach(({roleId:a,count:b})=>{d[a]=b}),S(d)}catch{}})()},[a,T,X,c.length]);let _=a=>X?"number"==typeof R[a.id]?`${R[a.id]} permissions`:"—":"No access",aa=async()=>{if(!T)return;let{rows:a,pagination:b}=await (0,aj.OH)(m,5,Z||void 0);f(a),I(b??null)};async function ab(b){if(a&&U)try{await (0,aj.rd)({title:b.name}),j.success("Role created"),await aa()}catch(a){console.error(a),j.error(a?.response?.data?.message||"Create failed")}}async function ac(b){if(a&&V)try{let a=await (0,aj.Dc)(b);O(a),M("edit"),K(!0)}catch(a){console.error(a),j.error(a?.response?.data?.message||"Failed to open role")}}async function ak(b){if(a&&V&&N?.id)try{await (0,aj.S0)({id:N.id,title:b.name}),j.success("Role updated"),await aa()}catch(a){console.error(a),j.error(a?.response?.data?.message||"Update failed")}}async function al(b){if(a&&W)try{await (0,aj.EO)(b),j.success("Role deleted");let{rows:a,pagination:c}=await (0,aj.OH)(m,5,Z||void 0);0===a.length&&m>1?D(a=>a-1):(f(a),I(c??null)),S(a=>{let c={...a};return delete c[b],c})}catch(a){console.error(a),j.error(a?.response?.data?.message||"Delete failed")}}let am=b=>{if(!a)return"—";try{return new Date(b).toLocaleString()}catch{return b}},[ar,as]=e.useState("roles"),at=H?.total??c.length,au=H?.page??m,av=(H?.totalPages??Math.ceil(at/5))||1,aw=H?.hasPrev??au>1,ax=H?.hasNext??au<av,ay=0===at?0:(au-1)*5+1,az=0===at?0:Math.min(5*au,at);return(0,d.jsx)(G.A,{screen:"/dashboard/roles",mode:"block",children:(0,d.jsxs)("div",{className:"space-y-6 scrollbar-stable",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:"Roles"}),(0,d.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Manage user roles and permissions"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[a&&!U&&(0,d.jsxs)(C.E,{variant:"outline",className:"gap-1",children:[(0,d.jsx)(o.A,{className:"h-3.5 w-3.5"}),"No create access"]}),a&&"roles"===ar&&(0,d.jsxs)(z.$,{className:"gap-2 w-full sm:w-auto",onClick:()=>{M("create"),K(!0)},disabled:!U,children:[(0,d.jsx)(p.A,{className:"h-4 w-4"}),"Add Role"]})]})]}),(0,d.jsxs)(ad,{defaultValue:"roles",className:"w-full",onValueChange:as,children:[(0,d.jsxs)(ae,{className:"mb-4",children:[(0,d.jsx)(af,{value:"roles",children:"Roles"}),(0,d.jsx)(af,{value:"permissions",children:"Role Permissions"})]}),(0,d.jsx)(ag,{value:"roles",children:(0,d.jsxs)(A.Zp,{className:"shadow-sm",children:[(0,d.jsx)(A.aR,{className:"space-y-3",children:(0,d.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[(0,d.jsx)(A.ZB,{className:"text-xl sm:text-2xl",children:"All Roles"}),(0,d.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row sm:items-center gap-2 w-full lg:w-auto",children:[(0,d.jsxs)("div",{className:"relative w-full sm:w-[260px] md:w-[320px] lg:w-[350px] max-w-full",children:[(0,d.jsx)(k.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,d.jsx)(B.p,{className:"h-9 pl-9 w-full",placeholder:"Search roles...",value:i,onChange:a=>l(a.target.value)})]}),(0,d.jsxs)(E.rI,{children:[(0,d.jsx)(E.ty,{asChild:!0,children:(0,d.jsxs)(z.$,{variant:"outline",size:"sm",className:"h-9 gap-1.5 border-muted-foreground/30 bg-background/60 px-3 text-xs font-medium text-muted-foreground shadow-sm hover:border-primary/40 hover:bg-primary/5 hover:text-primary self-end sm:self-auto",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Export"})]})}),(0,d.jsxs)(E.SQ,{align:"end",className:"w-48",children:[(0,d.jsx)("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Export current view"}),(0,d.jsxs)(E._2,{onClick:()=>{if(!c.length)return void j.info("No roles to export.");let a=a=>`"${String(a??"").replace(/"/g,'""')}"`,b=c.map(a=>[a.title,am(a.created_at),_(a)]),d=new Blob([[["Role","Created At","Permissions"].map(a).join(",")].concat(b.map(b=>b.map(a).join(","))).join("\n")],{type:"text/csv;charset=utf-8;"}),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.setAttribute("download","roles.csv"),document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(e),j.success("Roles exported as CSV.")},className:"cursor-pointer",children:[(0,d.jsx)(r.A,{className:"mr-2 h-4 w-4"})," Export as CSV"]}),(0,d.jsxs)(E._2,{onClick:()=>{if(!c.length)return void j.info("No roles to export.");let a=window.open("","_blank");if(!a)return void j.error("Popup blocked. Please allow popups to export PDF.");let b=c.map(a=>`
          <tr>
            <td>${a.title}</td>
            <td>${am(a.created_at)}</td>
            <td>${_(a)}</td>
          </tr>
        `).join("");a.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Roles Export</title>
        <style>
          body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; padding: 24px; }
          h1 { font-size: 20px; margin-bottom: 16px; }
          table { border-collapse: collapse; width: 100%; font-size: 12px; }
          th, td { border: 1px solid #ddd; padding: 6px 8px; text-align: left; }
          th { background: #f3f4f6; }
          tr:nth-child(even) { background: #fafafa; }
        </style>
      </head>
      <body>
        <h1>Roles</h1>
        <table>
          <thead>
            <tr>
              <th>Role</th>
              <th>Created At</th>
              <th>Permissions</th>
            </tr>
          </thead>
          <tbody>
            ${b}
          </tbody>
        </table>
      </body>
      </html>
    `),a.document.close(),a.focus(),a.print()},className:"cursor-pointer",children:[(0,d.jsx)(s.A,{className:"mr-2 h-4 w-4"})," Export as PDF"]})]})]})]})]})}),(0,d.jsx)(A.Wu,{className:"px-3 sm:px-6",children:g?(0,d.jsx)("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"Loading roles…"}):a&&!T?(0,d.jsx)("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"You don't have permission to view roles."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mt-1 rounded-xl border overflow-hidden overflow-x-auto",children:(0,d.jsxs)(ai.XI,{className:"min-w-[640px]",children:[(0,d.jsx)(ai.A0,{children:(0,d.jsxs)(ai.Hj,{className:"bg-gray-200",children:[(0,d.jsx)(ai.nd,{className:"rounded-tl-xl",children:"Role"}),(0,d.jsx)(ai.nd,{children:"Created At"}),(0,d.jsx)(ai.nd,{children:"Permissions"}),(0,d.jsx)(ai.nd,{className:"text-right rounded-tr-xl",children:"Actions"})]})}),(0,d.jsx)(ai.BF,{children:0===c.length?(0,d.jsx)(ai.Hj,{children:(0,d.jsx)(ai.nA,{colSpan:4,className:"p-8 text-center text-muted-foreground",children:(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,d.jsx)(F.eu,{className:"h-16 w-16 border border-dashed border-muted-foreground/30 bg-muted/40",children:(0,d.jsx)(F.q5,{children:(0,d.jsx)(t.A,{className:"h-7 w-7 text-muted-foreground"})})}),(0,d.jsx)("div",{className:"text-sm font-medium text-foreground",children:"No roles found"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground max-w-xs",children:i?"No roles match your search. Try changing or clearing the search term.":"You don’t have any roles yet. Create your first role to start assigning permissions."})]})})}):c.map((a,b)=>{let e=b===c.length-1;return(0,d.jsxs)(ai.Hj,{className:"odd:bg-muted/30 even:bg-white hover:bg-transparent",children:[(0,d.jsx)(ai.nA,{className:`${e?"rounded-bl-xl":""}`,children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(F.eu,{className:"h-9 w-9 shrink-0",children:(0,d.jsx)(F.q5,{className:"bg-primary/10 text-primary",children:(0,d.jsx)(u.A,{className:"h-4 w-4"})})}),(0,d.jsx)("div",{className:"min-w-0",children:(0,d.jsx)("div",{className:"font-medium truncate",children:a.title})})]})}),(0,d.jsx)(ai.nA,{className:"text-sm text-muted-foreground",children:am(a.created_at)}),(0,d.jsx)(ai.nA,{children:(0,d.jsx)(C.E,{children:_(a)})}),(0,d.jsx)(ai.nA,{className:`text-right ${e?"rounded-br-xl":""}`,children:(0,d.jsxs)(E.rI,{children:[(0,d.jsx)(E.ty,{asChild:!0,children:(0,d.jsx)(z.$,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"More actions",children:(0,d.jsx)(v.A,{className:"h-4 w-4"})})}),(0,d.jsxs)(E.SQ,{align:"end",className:"w-40",children:[V&&(0,d.jsxs)(E._2,{className:"gap-2",onClick:()=>ac(a.id),children:[(0,d.jsx)(w.A,{className:"h-4 w-4"}),"Edit"]}),W&&(0,d.jsxs)(E._2,{className:"gap-2 text-destructive focus:text-destructive",onClick:()=>al(a.id),children:[(0,d.jsx)(x.A,{className:"h-4 w-4"}),"Delete"]})]})]})})]},a.id)})})]})}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mt-4",children:[(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",ay," to ",az," of ",at," roles"]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:[(0,d.jsxs)(z.$,{variant:"outline",size:"sm",disabled:!aw,className:"gap-1",onClick:()=>D(a=>Math.max(1,a-1)),children:[(0,d.jsx)(y.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"hidden xs:inline",children:"Previous"})]}),(0,d.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:av},(a,b)=>b+1).map(a=>(0,d.jsx)(z.$,{variant:a===au?"default":"outline",size:"sm",className:"w-8 h-8 p-0 text-xs",onClick:()=>D(a),children:a},a))}),(0,d.jsxs)(z.$,{variant:"outline",size:"sm",disabled:!ax,className:"gap-1",onClick:()=>D(a=>a+1),children:[(0,d.jsx)("span",{className:"hidden xs:inline",children:"Next"}),(0,d.jsx)(n.A,{className:"h-4 w-4"})]})]})]})]})})]})}),(0,d.jsx)(ag,{value:"permissions",children:(0,d.jsxs)(A.Zp,{className:"shadow-sm",children:[(0,d.jsx)(A.aR,{className:"pb-3",children:(0,d.jsx)(A.ZB,{className:"text-lg",children:"Role Permissions"})}),(0,d.jsx)(A.Wu,{children:g?(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading roles…"}):a&&!T?(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"You don't have permission to view roles."}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"w-full max-w-full sm:max-w-md lg:max-w-lg",children:[(0,d.jsx)("label",{htmlFor:"role-select",className:"block text-sm font-medium mb-2",children:"Select Role"}),(0,d.jsxs)(ah.l6,{value:P?.id||"",onValueChange:a=>{let b=c.find(b=>b.id===a);b&&(Q(b),(async()=>{if(null==R[b.id])try{let a=(await (0,aj.GL)(b.id)).reduce((a,b)=>a+b.permissions.filter(a=>a.is_allowed).length,0);S(c=>({...c,[b.id]:a}))}catch{}})())},children:[(0,d.jsx)(ah.bq,{className:"w-full",children:(0,d.jsx)(ah.yv,{placeholder:"-- Select a role --"})}),(0,d.jsx)(ah.gC,{className:"max-h-60",children:c.map(a=>(0,d.jsx)(ah.eb,{value:a.id,children:a.title},a.id))})]})]}),P&&(0,d.jsx)(aq,{roleId:P.id,roleTitle:P.title,canViewRolePerms:X,canUpdateRolePerms:Y,onSaved:a=>{let b=a.reduce((a,b)=>a+b.permissions.filter(a=>a.is_allowed).length,0);S(a=>P?{...a,[P.id]:b}:a)}})]})})]})})]}),(0,d.jsx)(an,{mode:L,open:J,onOpenChange:K,initialData:N?{id:N.id,name:N.title,description:"",grants:{}}:void 0,roleId:"permissions"===L?P?.id:void 0,roleTitle:"permissions"===L?P?.title:void 0,onSubmit:"create"===L?ab:ak,onPermissionsSaved:a=>{let b=a.reduce((a,b)=>a+b.permissions.filter(a=>a.is_allowed).length,0);S(a=>P?{...a,[P.id]:b}:a)}})]})})}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[423,495,846,45,787,504,467,392],()=>b(b.s=7897));module.exports=c})();